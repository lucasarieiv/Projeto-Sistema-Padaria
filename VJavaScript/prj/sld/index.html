<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<title>slider</title>

	<script  language="javascript">
		
	function preload(){
		imgs=Array('img/f1.jpg','img/f2.jpg','img/f3.jpg','img/f4.jpg','img/f5.jpg','img/f6.jpg');
		imgQtde=imgs.length;

		for ( i = 0 ;i < imgQtde ; i++) {

			var preloadimg=new Image();

			preloadimg.src=imgs[i];
		}
	}


		function iniciaSlider(){
			preload();

			max = 6 ;
			min = 1 ;

			fi = min;

			tr = true;
			carregaFoto("img/f1.jpg");

			document.getElementById("moldura").addEventListener("transitionend",fimTr);

			tmr = setInterval(trocaFoto,2000);
		}

		function trocaFoto(){
			tr= false;
				
					fi++;

			if(fi > max){
				fi = min;
			  }
				carregaFoto(" img/f"+fi+".jpg");
		}

		function fimTr(){
			tr=true;
		}


		function carregaFoto(foto){
			document.getElementById("moldura").style.backgroundImage="URL("+foto+")";
		}

		function troca(dr){
			clearInterval(tmr);
			if (tr) {
				tr= false;
				
				fi += dr;

			if(fi > max){
				fi = min;
			  }
			else if (fi < min) {
				fi -= max;
			}
				carregaFoto(" img/f"+fi+".jpg");
			}
						tmr = setInterval(trocaFoto,2000);

		

	} 
	</script>

<style type="text/css">
	#moldura{
		width: 660px;
		height: 450px;
		background-color:#eeeeee;
		transition: background-image 2s;
	}

</style>

</head>
<body onload="iniciaSlider()">

 <div id="moldura"></div>
 <input type="button" value="anterior" onclick="troca(-1)" />
 <input type="button" value="PrÃ³ximo" onclick="troca(1)">

</body>
</html>